---
- name: Create Ec2 instances
  hosts: localhost
  connection: local
  become: yes
  gather_facts: false
  tasks:
   - name: Creating ec2 instance
     ec2:
       region: ap-south-1
       key_name: sonarqube
       instance_type: t3a.micro
       image:  ami-0567e0d2b4b2169ae 
       wait: yes
       wait_timeout: 500
       count: 1
       monitoring: no
       vpc_subnet_id: subnet-099c5c4757d183892
       assign_public_ip: yes
       
   - name: apt update
     apt:
      name: '*'
      state: latest
      
   - name: Install java
     apt:
      name:  openjdk-8-jre-headless 
      state: present
   


  
